function kelToCel(e){return(e-273.15).toFixed(1)}function handleError(e,t,r){console.error(arguments)}function weatherSuccess(e){var t=e.main.temp,r=e.weather[0].main,n=e.weather[0].description,a=e.sys.country,o=e.name,c=e.weather[0].icon,h="http://openweathermap.org/img/w/"+c+".png";$("span.weather-description").html(r+" ( "+n+" )"),$("span.country").html("Country: "+a),$("span.city").html("City of "+o),$("span.temperature").html(kelToCel(t)+htmlCelsius),$("#icon").attr("src",h)}const API_KEY="dccbf5e723c2f71607f4a80bdf256bc7",htmlCelsius="&#8451;";$(document).ready(function(){$.get("http://ip-api.com/json").then(function(e){var t=e.lat,r=e.lon,n="http://api.openweathermap.org/data/2.5/weather?lat="+t+"&lon="+r+"&appid="+API_KEY;return $.get(n)}).then(weatherSuccess,handleError),$("#getWeather").on("click",function(){var e=function(e){var t="http://api.openweathermap.org/data/2.5/weather?q=";return t+e+"&appid="+API_KEY},t=$("#userCity").val();$.get(e(t)).then(weatherSuccess,handleError)})});